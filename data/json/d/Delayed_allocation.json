{"cursor":"1552","size":15,"audio":[],"currentlang":"en","article":"'Allocate-on-flush' (also called 'delayed allocation') is a computer file system\nfeature implemented in the HFS+, [http://support.apple.com/kb/HT1375 About\ndisk optimization with Mac OS X] Do I need to optimize? XFS, Reiser4, ZFS,\nBtrfs and ext4 [http://lwn.net/Articles/289510/ LWN.net Weekly Edition for\nJuly 17, 2008] 2.6.27: what's coming (part 1) file systems. The feature\nalso closely resembles an older technique that Berkeley's UFS called \"block\nreallocation\".\n\nWhen blocks must be allocated to hold pending writes, disk space for the\nappended data is subtracted from the free-space counter, but not actually\nallocated in the free-space bitmap. Instead, the appended data is held in memory\nuntil it must be flushed to storage due to memory pressure, when the kernel\ndecides to flush dirty buffers, or when the application performs the Unix \"sync\"\nsystem call, for example.\n\nThis has the effect of batching together allocations into larger runs. Such\ndelayed processing reduces CPU usage, and tends to reduce disk fragmentation,\nespecially for files which grow slowly. It can also help in keeping allocations\ncontiguous when there are several files growing at the same time. When used in\nconjunction with copy on write as it is in ZFS, it can convert slow random\nwrites into fast sequential writes.\n","linknr":98,"url":"Delayed_allocation","recorded":1374521766,"links":["/w/index.php?title=Allocate-on-flush&action=edit","/w/index.php?title=Allocate-on-flush&action=edit","//bits.wikimedia.org/favicon/wikipedia.ico","/w/opensearch_desc.php","//en.wikipedia.org/w/api.php?action=rsd","//creativecommons.org/licenses/by-sa/3.0/","/w/index.php?title=Special:RecentChanges&feed=atom","/wiki/Allocate-on-flush","//bits.wikimedia.org/en.wikipedia.org/load.php?debug=false&lang=en&modules=ext.gadget.DRN-wizard%2CReferenceTooltips%2Ccharinsert%2Cteahouse%7Cext.rtlcite%2Cwikihiero%7Cext.uls.nojs%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmw.PopUpMediaTransform%7Cskins.vector&only=styles&skin=vector&*","//bits.wikimedia.org/en.wikipedia.org/load.php?debug=false&lang=en&modules=site&only=styles&skin=vector&*","//bits.wikimedia.org/en.wikipedia.org/load.php?debug=false&lang=en&modules=startup&only=scripts&skin=vector&*","//bits.wikimedia.org/geoiplookup","//meta.wikimedia.org","/w/index.php?title=Delayed_allocation&redirect=no","#mw-navigation","#p-search","/wiki/Computer_file_system","/wiki/HFS%2B","#cite_note-1","/wiki/XFS","/wiki/Reiser4","/wiki/ZFS","/wiki/Btrfs","/wiki/Ext4","#cite_note-2","/wiki/Unix_File_System","/wiki/Free-space_bitmap","/wiki/Fragmentation_(computer)","/wiki/Copy_on_write","/wiki/ZFS","/w/index.php?title=Allocate-on-flush&action=edit&section=1","#cite_ref-1","http://support.apple.com/kb/HT1375","#cite_ref-2","http://lwn.net/Articles/289510/","/wiki/File:Floppy_icon.svg","//upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Floppy_icon.svg/30px-Floppy_icon.svg.png","/wiki/Computer_storage","/wiki/Wikipedia:Stub","//en.wikipedia.org/w/index.php?title=Allocate-on-flush&action=edit","/wiki/Template:Compu-storage-stub","/w/index.php?title=Template_talk:Compu-storage-stub&action=edit&redlink=1","//en.wikipedia.org/w/index.php?title=Template:Compu-storage-stub&action=edit","//en.wikipedia.org/w/index.php?title=Special:CentralAutoLogin/start&type=1x1&from=enwiki","http://en.wikipedia.org/w/index.php?title=Allocate-on-flush&oldid=423424310","/wiki/Help:Categories","/wiki/Category:Computer_file_systems","/wiki/Category:Computer_storage_stubs","/w/index.php?title=Special:UserLogin&returnto=Allocate-on-flush&type=signup","/w/index.php?title=Special:UserLogin&returnto=Allocate-on-flush","/wiki/Allocate-on-flush","/wiki/Talk:Allocate-on-flush","#","/wiki/Allocate-on-flush","/w/index.php?title=Allocate-on-flush&action=edit","/w/index.php?title=Allocate-on-flush&action=history","#","/w/index.php","//bits.wikimedia.org/static-1.22wmf10/skins/vector/images/search-ltr.png?303-4","/wiki/Main_Page","/wiki/Main_Page","/wiki/Portal:Contents","/wiki/Portal:Featured_content","/wiki/Portal:Current_events","/wiki/Special:Random","//donate.wikimedia.org/wiki/Special:FundraiserRedirector?utm_source=donate&utm_medium=sidebar&utm_campaign=C13_en.wikipedia.org&uselang=en","/wiki/Help:Contents","/wiki/Wikipedia:About","/wiki/Wikipedia:Community_portal","/wiki/Special:RecentChanges","//en.wikipedia.org/wiki/Wikipedia:Contact_us","/wiki/Special:WhatLinksHere/Allocate-on-flush","/wiki/Special:RecentChangesLinked/Allocate-on-flush","/wiki/Wikipedia:File_Upload_Wizard","/wiki/Special:SpecialPages","/w/index.php?title=Allocate-on-flush&oldid=423424310","/w/index.php?title=Allocate-on-flush&action=info","//www.wikidata.org/wiki/Q4732996","/w/index.php?title=Special:Cite&page=Allocate-on-flush&id=423424310","/w/index.php?title=Special:Book&bookcmd=book_creator&referer=Allocate-on-flush","/w/index.php?title=Special:Book&bookcmd=render_article&arttitle=Allocate-on-flush&oldid=423424310&writer=rl","/w/index.php?title=Allocate-on-flush&printable=yes","#","//www.wikidata.org/wiki/Q4732996#sitelinks-wikipedia","//en.wikipedia.org/wiki/Wikipedia:Text_of_Creative_Commons_Attribution-ShareAlike_3.0_Unported_License","//creativecommons.org/licenses/by-sa/3.0/","//wikimediafoundation.org/wiki/Terms_of_Use","//wikimediafoundation.org/wiki/Privacy_policy","//www.wikimediafoundation.org/","//wikimediafoundation.org/wiki/Privacy_policy","/wiki/Wikipedia:About","/wiki/Wikipedia:General_disclaimer","//en.wikipedia.org/wiki/Wikipedia:Contact_us","//en.m.wikipedia.org/wiki/Allocate-on-flush","//wikimediafoundation.org/","//bits.wikimedia.org/images/wikimedia-button.png","//www.mediawiki.org/","//bits.wikimedia.org/static-1.22wmf10/skins/common/images/poweredby_mediawiki_88x31.png","//bits.wikimedia.org/en.wikipedia.org/load.php?debug=false&lang=en&modules=site&only=scripts&skin=vector&*"],"instances":["computer"],"pdf":[],"categories":["Computer file systems"],"headings":["References"],"image":["//upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Floppy_icon.svg/30px-Floppy_icon.svg.png","//en.wikipedia.org/w/index.php?title=Special:CentralAutoLogin/start&type=1x1&from=enwiki","//bits.wikimedia.org/static-1.22wmf10/skins/vector/images/search-ltr.png?303-4","//bits.wikimedia.org/images/wikimedia-button.png","//bits.wikimedia.org/static-1.22wmf10/skins/common/images/poweredby_mediawiki_88x31.png"],"tags":[["fragmentation","computer"]],"members":["fragmentation"],"related":["Computer_file_system","HFS+","XFS","Reiser4","ZFS","Btrfs","Ext4","Unix_File_System","Free-space_bitmap","Fragmentation_(computer)","Copy_on_write","ZFS"]}